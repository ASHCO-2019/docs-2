
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Investigating performance issues Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="react-performance-tips.html" />
    
    
    <link rel="prev" href="filing-good-bugs.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started/">
            
                <a href="../getting-started/">
            
                    
                    Getting started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/bugzilla.html">
            
                <a href="../getting-started/bugzilla.html">
            
                    
                    Get a Bugzilla account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/build.html">
            
                <a href="../getting-started/build.html">
            
                    
                    Get and build the code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../getting-started/development-profiles.html">
            
                <a href="../getting-started/development-profiles.html">
            
                    
                    Create a development profile
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../contributing.html">
            
                <a href="../contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="find-bugs.html">
            
                <a href="find-bugs.html">
            
                    
                    Find bugs to work on
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="fixing-bugs.html">
            
                <a href="fixing-bugs.html">
            
                    
                    How to fix a bug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="code-reviews.html">
            
                <a href="code-reviews.html">
            
                    
                    Code reviews
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="code-reviews-setup.html">
            
                <a href="code-reviews-setup.html">
            
                    
                    Set up for code reviews
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="code-reviews-find-reviewer.html">
            
                <a href="code-reviews-find-reviewer.html">
            
                    
                    Find a reviewer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="making-prs.html">
            
                <a href="making-prs.html">
            
                    
                    Send your code for review
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="code-reviews-checklist.html">
            
                <a href="code-reviews-checklist.html">
            
                    
                    Reviews checklist
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="landing-code.html">
            
                <a href="landing-code.html">
            
                    
                    Landing code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="levelling-up.html">
            
                <a href="levelling-up.html">
            
                    
                    Levelling up
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="coding-standards.html">
            
                <a href="coding-standards.html">
            
                    
                    Coding standards
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="javascript.html">
            
                <a href="javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1.1" data-path="eslint.html">
            
                <a href="eslint.html">
            
                    
                    ESLint
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="css.html">
            
                <a href="css.html">
            
                    
                    CSS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="filing-good-bugs.html">
            
                <a href="filing-good-bugs.html">
            
                    
                    Filing good bugs
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.8" data-path="performance.html">
            
                <a href="performance.html">
            
                    
                    Investigating performance issues
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="react-performance-tips.html">
            
                <a href="react-performance-tips.html">
            
                    
                    Writing efficient React code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../tests/">
            
                <a href="../tests/">
            
                    
                    Automated tests
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Running tests
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../tests/xpcshell.html">
            
                <a href="../tests/xpcshell.html">
            
                    
                    xpcshell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../tests/mochitest-chrome.html">
            
                <a href="../tests/mochitest-chrome.html">
            
                    
                    Chrome mochitests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../tests/mochitest-devtools.html">
            
                <a href="../tests/mochitest-devtools.html">
            
                    
                    DevTools mochitests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../tests/node-tests.html">
            
                <a href="../tests/node-tests.html">
            
                    
                    Node tests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../tests/writing-tests.html">
            
                <a href="../tests/writing-tests.html">
            
                    
                    Writing tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../tests/debugging-intermittents.html">
            
                <a href="../tests/debugging-intermittents.html">
            
                    
                    Debugging intermittent failures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../tests/performance-tests.html">
            
                <a href="../tests/performance-tests.html">
            
                    
                    Performance tests (DAMP)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../tests/writing-perf-tests.html">
            
                <a href="../tests/writing-perf-tests.html">
            
                    
                    Writing a new test
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.2" data-path="../tests/writing-perf-tests-example.html">
            
                <a href="../tests/writing-perf-tests-example.html">
            
                    
                    Example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.3" data-path="../tests/writing-perf-tests-tips.html">
            
                <a href="../tests/writing-perf-tests-tips.html">
            
                    
                    Advanced tips
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../files/">
            
                <a href="../files/">
            
                    
                    Files and directories
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../files/adding-files.html">
            
                <a href="../files/adding-files.html">
            
                    
                    Adding New Files
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../tools/tools.md">
            
                <span>
            
                    
                    Tool Architectures
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../tools/inspector.html">
            
                <a href="../tools/inspector.html">
            
                    
                    Inspector
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1.1" data-path="../tools/inspector-panel.html">
            
                <a href="../tools/inspector-panel.html">
            
                    
                    Panel Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.2" data-path="../tools/highlighters.html">
            
                <a href="../tools/highlighters.html">
            
                    
                    Highlighters
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../tools/memory-panel.html">
            
                <a href="../tools/memory-panel.html">
            
                    
                    Memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../tools/debugger-panel.html">
            
                <a href="../tools/debugger-panel.html">
            
                    
                    Debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../tools/responsive-design-mode.html">
            
                <a href="../tools/responsive-design-mode.html">
            
                    
                    Responsive Design Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../tools/console-panel.html">
            
                <a href="../tools/console-panel.html">
            
                    
                    Console
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../frontend/frontend.md">
            
                <span>
            
                    
                    Frontend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../frontend/svgs.html">
            
                <a href="../frontend/svgs.html">
            
                    
                    Panel SVGs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../frontend/react.html">
            
                <a href="../frontend/react.html">
            
                    
                    React
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.2.1" data-path="../frontend/react-guidelines.html">
            
                <a href="../frontend/react-guidelines.html">
            
                    
                    Guidelines
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../frontend/redux.html">
            
                <a href="../frontend/redux.html">
            
                    
                    Redux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.3.1" data-path="../frontend/redux-guidelines.html">
            
                <a href="../frontend/redux-guidelines.html">
            
                    
                    Guidelines
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../frontend/telemetry.html">
            
                <a href="../frontend/telemetry.html">
            
                    
                    Telemetry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../frontend/csp.html">
            
                <a href="../frontend/csp.html">
            
                    
                    Content Security Policy
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../backend/backend.md">
            
                <span>
            
                    
                    Backend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../backend/protocol.html">
            
                <a href="../backend/protocol.html">
            
                    
                    Remote Debugging Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../backend/client-api.html">
            
                <a href="../backend/client-api.html">
            
                    
                    Client API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../backend/debugger-api.html">
            
                <a href="../backend/debugger-api.html">
            
                    
                    Debugger API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../backend/backward-compatibility.html">
            
                <a href="../backend/backward-compatibility.html">
            
                    
                    Backward Compatibility
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" >
            
                <span>
            
                    
                    Actors
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="../backend/actor-hierarchy.html">
            
                <a href="../backend/actor-hierarchy.html">
            
                    
                    Actors Organization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="../backend/actor-e10s-handling.html">
            
                <a href="../backend/actor-e10s-handling.html">
            
                    
                    Handling Multi-Processes in Actors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="../backend/protocol.js.html">
            
                <a href="../backend/protocol.js.html">
            
                    
                    Writing Actors With protocol.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.4" data-path="../backend/actor-registration.html">
            
                <a href="../backend/actor-registration.html">
            
                    
                    Registering A New Actor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5" data-path="../backend/actor-best-practices.html">
            
                <a href="../backend/actor-best-practices.html">
            
                    
                    Actor Best Practices
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../preferences.html">
            
                <a href="../preferences.html">
            
                    
                    Preferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../about-documentation.html">
            
                <a href="../about-documentation.html">
            
                    
                    About this documentation
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Investigating performance issues</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="writing-efficient-code">Writing efficient code</h1>
<p>When debugging a page, tools get to slow down the website because of the added instrumentation.
While working on Developer Tools we should strive to be the less impactful.
First, because it is painful to work with laggy UI, but also because some tools record timings.
For example, the network monitor records HTTP request timings.
If the tools are slowing down Firefox significantly, it will make these measurements be wrong.</p>
<p>To be efficient while working on performance, you should always focus on one precise user scenario.
It could be:</p>
<ul>
<li>a bug report where someone reports a precise interaction being slow,</li>
<li>or you could be trying to improve overall tools performance by looking at the most common usages.
The important point here is to have some steps to reproduce, that you can redo manually in order to record a profile.
And also, it is even better if you can replay via a test script. Test script that you can save as a new performance test.</li>
</ul>
<h2 id="dont-guess-&#x2014;-profile">Don&apos;t guess &#x2014; profile.</h2>
<p>The very first thing to do is to record a profile while reproducing the scenario.</p>
<p>Here&apos;s the Firefox documentation for <a href="https://developer.mozilla.org/docs/Mozilla/Performance/Reporting_a_Performance_Problem" target="_blank">how to install the profiler and record a profile</a> and also <a href="https://developer.mozilla.org/docs/Mozilla/Performance/Profiling_with_the_Built-in_Profiler#Understanding_Profiles" target="_blank">how to interpret the profiles</a></p>
<p>There are some peculiarities about DevTools architecture that are worth knowing about when looking at a profile:</p>
<h3 id="tweak-profiler-default-settings">Tweak profiler default settings</h3>
<p>The default buffer size (9MB) is too small. If you don&apos;t increase it, you may easily miss data and only see last couple of seconds of your recording.
To increase the buffer size, click on the profiler add-on icon, in the Firefox toolbar, and set it to 360MB, like this:</p>
<p>  <img src="performance/profiler-buffer-size.png" alt="Profiler buffer size" style="width: 300px"></p>
<p>The other setting worth mentioning for DevTools debugging is the <code>Interval</code>
The profiler records only samples, based on this <code>Interval</code>.
If you want to see more fine-grained stack traces, you may reduce this interval to 0.1ms,
but do that only if you really need it, as it will make Firefox much even slower when recording,
and the measured times will be even slower.</p>
<h3 id="the-devtools-ui-runs-on-the-parent-process">The DevTools UI runs on the parent process</h3>
<p>When you are debugging tool front-ends (e.g. panels), always ensure you select the <code>Main Thread</code> line.
It should have a light blue background like this:</p>
<p>  <img src="performance/profiler-main-thread.png" alt="Select main process" style="width: 300px"></p>
<p>Otherwise, the vast majority of DevTools backend (DevToolsServer, actors, ...) lives in content processes.
So if you are debugging them, you should select one of the <code>Content</code> lines.</p>
<h3 id="most-of-the-devtools-codebase-is-in-javascript">Most of the DevTools codebase is in Javascript</h3>
<p>In the call tree, it is easier to filter by <code>JS</code>, via this menu list:
  <img src="performance/profiler-filter-js.png" alt="JS Filtering" style="width: 200px"></p>
<p>But note that you may have to switch back to <code>Combined</code> in order to understand why some particular Javascript method is slow.</p>
<h3 id="handy-filter-strings-for-devtools">Handy filter strings for DevTools:</h3>
<ul>
<li><code>require</code>
Helps highlighting the cost of module loading
 <img src="performance/profiler-filter-require.png" alt="modules"></li>
<li>DevTools uses two kind of URLs:<ul>
<li><code>chrome://devtools/</code> for all panel documents. Filter with this to see the cost of all panel documents:
<img src="performance/profiler-chrome-url.png" alt="panels documents"></li>
<li><code>resource://devtools/</code> for all javascript modules. Filter with this to see the cost of all modules:
<img src="performance/profiler-resource-url.png" alt="modules"></li>
</ul>
</li>
</ul>
<h3 id="record-durations-manually">Record durations manually</h3>
<p>Sometimes it is handy to focus on a very precise piece of code and record its time manually.
For example when you identified one slow running method and think you can speed it up.
It saves your from having to: record the profile, wait for the profiler to display and search for the precise method durations.</p>
<h4 id="print-durations-in-your-terminal-and-in-the-browser-console">Print durations in your Terminal and in the Browser Console</h4>
<p>You can use the <a href="https://developer.mozilla.org/docs/Web/API/Performance" target="_blank"><code>Performance</code></a> API, like this:</p>
<pre><code>let start = window.performance.now();

// Run the code you want to measure

// Once it is done, do:
console.log(&quot;my function took&quot;, window.performance.now() - start, &quot;ms&quot;);
</code></pre><h4 id="use-markers">Use markers</h4>
<p>The Performance API also allows recording markers, like this:</p>
<pre><code>window.performance.mark(&quot;my-function-start&quot;);

// Run the code you want to measure

// Once it is done, do:
window.performance.measure(&quot;my-function&quot;, &quot;my-function-start&quot;);
</code></pre><p>This marker will appear in the <code>Marker Chart</code> section in <a href="https://profiler.firefox.com" target="_blank">profiler.firefox.com</a>, in the <code>UserTiming</code> lines:
  <img src="performance/profiler-custom-markers.png" alt="custom markers"></p>
<p>You can double click on it to make <a href="https://profiler.firefox.com" target="_blank">profiler.firefox.com</a> display the record during this precise moment in time,
and the call tree will only display what was executed during this measurement.</p>
<h3 id="prototype-quickly">Prototype quickly</h3>
<p>Sometimes the best way to find what is slow is to comment blocks of code out
and uncomment them one by one until you identify the culprit. And then focus on it.</p>
<p>There are few things worse than spending a long time refactoring the piece of code that was not slow to begin with!</p>
<h2 id="assess-your-improvement">Assess your improvement.</h2>
<p>Once you have a patch that you think improves the performance, you have to assess whether it actually improves it.</p>
<h3 id="record-another-profile">Record another profile</h3>
<p>Compare the two profiles, without and with your patch.
Then see if the call tree reports a significant difference:</p>
<ul>
<li>A function call completely disappears in the new profile, with your fix.
For example you were loading a big module, and you got a frame for <code>require(&quot;my/big/module&quot;)</code> call, and no longer see it.</li>
<li>The same function call takes xxx ms less with your patch.</li>
</ul>
<p>This <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1420289" target="_blank">lazy loading of modules in netmonitor</a> is a good example.
Without this patch, App.js was loading in 91ms and was loading MonitorPanel.js and StatisticsPanel.js as dependencies:
  <img src="performance/profiler-netmonitor-open.png" alt="netmonitor without patch"></p>
<p>With the patch, App.js loads in 47ms and only loads MonitorPanel.js:
  <img src="performance/profiler-netmon-open-fixed.png" alt="netmonitor with patch"></p>
<p>It highlights that:</p>
<ul>
<li>we no longer load StatisticsPanel,</li>
<li>App is faster to load.</li>
</ul>
<h3 id="run-performance-tests">Run performance tests</h3>
<p>See if any subtest reports a improvement. Ensure that the improvement makes any sense.
For example, if the test is 50% faster, maybe you broke the performance test.
This might happen if the test no longer waits for all the operations to finish executing before completing.</p>
<p>To push your current patch to try, execute:</p>
<pre><code class="lang-bash">./mach try fuzzy --query <span class="hljs-string">&quot;&apos;linux64-shippable/ &apos;damp&quot;</span> --rebuild 5
</code></pre>
<p>It will print in your Terminal a link to perfherder like this one:
<a href="https://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&amp;newRevision=9bef6cb13c43bbce21d40ffaea595e082a4c28db" target="_blank">https://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&amp;newRevision=9bef6cb13c43bbce21d40ffaea595e082a4c28db</a>
Running performance tests takes time, so you should open it 30 minutes up to 2 hours later to see your results.
See <a href="../tests/performance-tests.html">Performance tests (DAMP)</a> for more information about PerfHerder/try.</p>
<p>Let&apos;s look at how to interpret an actual real-life <a href="https://treeherder.mozilla.org/perf.html#/comparesubtest?originalProject=mozilla-central&amp;newProject=try&amp;newRevision=9bef6cb13c43bbce21d40ffaea595e082a4c28db&amp;originalSignature=edaec66500db21d37602c99daa61ac983f21a6ac&amp;newSignature=edaec66500db21d37602c99daa61ac983f21a6ac&amp;showOnlyImportant=1&amp;framework=1&amp;selectedTimeRange=172800" target="_blank">set of perfherder results</a>:</p>
<p><img src="performance/perfherder-results.png" alt="perfherder results"></p>
<p>These results are related to <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1420289" target="_blank">lazy loading of modules in netmonitor</a>.
It is interesting to see that this patch is a trade-off. It makes netmonitor opening significantly faster, by preventing loading many modules during its opening.
But it makes the page reload a bit slower as some modules that used to be loaded during netmonitor open, now have to be loaded during page reload.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="filing-good-bugs.html" class="navigation navigation-prev " aria-label="Previous page: Filing good bugs">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="react-performance-tips.html" class="navigation navigation-next " aria-label="Next page: Writing efficient React code">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Investigating performance issues","level":"1.3.8","depth":2,"next":{"title":"Writing efficient React code","level":"1.3.9","depth":2,"path":"contributing/react-performance-tips.md","ref":"./contributing/react-performance-tips.md","articles":[]},"previous":{"title":"Filing good bugs","level":"1.3.7","depth":2,"path":"contributing/filing-good-bugs.md","ref":"./contributing/filing-good-bugs.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["hints"],"pluginsConfig":{"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"index.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"contributing/performance.md","mtime":"2020-11-19T03:59:29.873Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-11-19T04:01:00.331Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

